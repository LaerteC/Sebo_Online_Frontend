<div>
<h3 class="font-semibold text-lg"> Mudar senha</h3>
<p class="my-3">Formulário para alterar senha (entra em vigor imediatamente).</p>
<form
    class="flex flex-col justify-center max-w-2xl m-auto"
    [formGroup]="form"
    (ngSubmit)="submit()"
>
    <mat-form-field class="mt-2">
        <mat-label> Senha atual</mat-label>
        <input matInput type="password" formControlName="oldPassword" />
        <mat-error> Requer a senha atual.</mat-error>
    </mat-form-field>


    <mat-form-field class="mt-2">
        <mat-label> Nova senha</mat-label>
        <input matInput type="password" formControlName="newPassword" />
        <mat-error>
            {{ this.form.controls.newPassword.hasError('minlength') ?
                        "A senha deve ter pelo menos 6 caracteres" :
                        "O campo da nova senha é obrigatório"
            }}
        </mat-error>
    </mat-form-field>


    <mat-form-field class="mt-2">
        <mat-label> Reinserir a senha</mat-label>
        <input matInput type="password" formControlName="reenteredPassword" />
        <mat-error> O campo da nova senha é obrigatório.</mat-error>
    </mat-form-field>


    <p class="font-semibold my-2 mx-auto flex justify-center"
        [ngClass]="{
            'text-green-600' : isUpdated,
            'text-red-500' : hasError.oldPassword || hasError.newPassword || hasError.reenteredPassword
        }"
    >
        {{ message }}
    </p>

    <div class="flex justify-center">
        <button
            mat-raised-button
            style="background-color: #4b954f; color: white"
            class="mt-2 btn-block tracking-wider w-1/2 flex m-auto"
            type="submit"
        > Salvar alterações </button>
    </div>
</form>

</div>
